load("/Volumes/HOME/Users/faig/Documents/GitHub/ATTACH/R/sysdata.rda")
tac_BOTHBIND_loglin_sur[1]
tac_BOTHBIND_loglin_sur[2]
tac_BOTHBIND_loglin_sur[3]
tac_BOTHBIND_loglin_sur[4]
tac_BOTHBIND_loglin_sur[5]
tac_BOTHBIND_loglin_sur[6]
tac_BOTHBIND_loglin_sur[7]
tac_BOTHBIND_loglin_sur[8]
tac_BOTHBIND_loglin_sur[9]
tac_BOTHBIND_loglin_sur[20]
tac_BOTHBIND_loglin_sur[19]
tac_BOTHBIND_loglin_sur[21]
tac_BOTHBIND_loglin_sur[30]
tac_BOTHBIND_loglin_sur[10]
tac_BOTHBIND_loglin_sur[11]
tac_BOTHBIND_loglin_sur[12]
tac_BOTHBIND_loglin_sur[13]
tac_BOTHBIND_loglin_sur[14]
tac_BOTHBIND_loglin_sur[15]
tac_BOTHBIND_loglin_sur[16]
tac_BOTHBIND_loglin_sur[17]
tac_BOTHBIND_loglin_sur[18]
tac_BOTHBIND_loglin_sur[19]
tac_BOTHBIND_loglin_sur[20]
tac_BOTHBIND_loglin_sur[21]
catch_BOTHBIND_loglin_sur[21]
catch_BOTHBIND_loglin_sur[1]
catch_BOTHBIND_loglin_sur[2]
catch_BOTHBIND_loglin_sur[3]
catch_BOTHBIND_loglin_sur[4]
catch_BOTHBIND_loglin_sur[5]
catch_BOTHBIND_loglin_sur[6]
catch_BOTHBIND_loglin_sur[20]
catch_BOTHBIND_loglin_sur[21]
catch_BOTHBIND_loglin_sur[22]
catch_BOTHBIND_loglin_sur[24]
catch_BOTHBIND_loglin_sur[25]
catch_BOTHBIND_loglin_sur[18]
catch_BOTHBIND_loglin_sur[17]
catch_BOTHBIND_loglin_sur[16]
catch_BOTHBIND_loglin_sur[15]
catch_BOTHBIND_loglin_sur[14]
catch_BOTHBIND_loglin_sur[13]
catch_BOTHBIND_loglin_sur[12]
catch_BOTHBIND_loglin_sur[11]
catch_BOTHBIND_loglin_sur[10]
catch_BOTHBIND_loglin_sur[9]
catch_BOTHBIND_loglin_sur[8]
catch_BOTHBIND_loglin_sur[18]
library(devtools)
load_all()
setwd("~/Documents/GitHub/ATTACH/R")
library(devtools)
load_all()
tac_BOTHBIND_loglin_sur <- readRDS("~/Desktop/CODE/fits/BS_and_AI_TAC_fit_BOTHBIND_SUR_loglin_all.rds")
tac_BOTHBINDICATOR_loglin_sur<- readRDS("~/Desktop/CODE/fits/BS_and_AI_TAC_fit_BOTHBINDICATOR_SUR_loglin_all.rds")
tac_BOTHBIND_NOFIRSTYEAR_loglin_sur <- readRDS("~/Desktop/CODE/fits/BS_and_AI_TAC_fit_BOTHBIND_NOFIRSTYEAR_SUR_loglin_all.rds")
catch_BOTHBIND_loglin_sur <-readRDS("~/Desktop/CODE/fits/BS_and_AI_CATCH_fit_BOTHBIND_SUR_loglin_all.rds")
catch_BOTHBIND_loglin_ols <-readRDS("~/Desktop/CODE/fits/BS_and_AI_CATCH_fit_BOTHBIND_OLS_loglin_all.rds")
catch_BOTHBINDICATOR_loglin_ols  <-readRDS("~/Desktop/CODE/fits/BS_and_AI_CATCH_fit_BOTHBINDICATOR_SUR_loglin_all.rds")
catch_BOTHBIND_NOFIRSTYEAR_loglin_ols  <-readRDS("~/Desktop/CODE/fits/BS_and_AI_CATCH_fit_BOTHBIND_NOFIRSTYEAR_SUR_loglin_all.rds")
use_data(mean.BS.AI.ABCs,
tac_BOTHBIND_loglin_sur,
tac_BOTHBINDICATOR_loglin_sur,
tac_BOTHBIND_NOFIRSTYEAR_loglin_sur,
catch_BOTHBIND_loglin_sur,
catch_BOTHBIND_loglin_ols,
catch_BOTHBINDICATOR_loglin_ols,
catch_BOTHBIND_NOFIRSTYEAR_loglin_ols,
internal = TRUE,
overwrite = TRUE)
library("devtools")
load_all()
load_all()
load_all()
?ATTACH_function
ATTACH_function(1, Pollock = 2e6, Arrowtooth = 2e5, Yellowfin = 2e5)
library("systemfit")
ATTACH_function(1, Pollock = 2e6, Arrowtooth = 2e5, Yellowfin = 2e5)
load_all()
ATTACH_function(1, Pollock = 2e6, Arrowtooth = 2e5, Yellowfin = 2e5)
load("~/Documents/GitHub/ATTACH/R/sysdata.rda")
library(devtools)
load_all()
#load existing systdata to get the mean and sd of ABCs because who knows where that file has gone.
#load new fits as necessary
tac_BOTHBIND_loglin_sur <- readRDS("~/Desktop/CODE/fits/BS_and_AI_TAC_fit_BOTHBIND_SUR_loglin_all.rds")
tac_BOTHBINDICATOR_loglin_sur<- readRDS("~/Desktop/CODE/fits/BS_and_AI_TAC_fit_BOTHBINDICATOR_SUR_loglin_all.rds")
tac_BOTHBIND_NOFIRSTYEAR_loglin_sur <- readRDS("~/Desktop/CODE/fits/BS_and_AI_TAC_fit_BOTHBIND_NOFIRSTYEAR_SUR_loglin_all.rds")
catch_BOTHBIND_loglin_sur <-readRDS("~/Desktop/CODE/fits/BS_and_AI_CATCH_fit_BOTHBIND_SUR_loglin_all.rds")
catch_BOTHBIND_loglin_ols <-readRDS("~/Desktop/CODE/fits/BS_and_AI_CATCH_fit_BOTHBIND_OLS_loglin_all.rds")
catch_BOTHBINDICATOR_loglin_ols  <-readRDS("~/Desktop/CODE/fits/BS_and_AI_CATCH_fit_BOTHBINDICATOR_OLS_loglin_all.rds")
catch_BOTHBIND_NOFIRSTYEAR_loglin_ols  <-readRDS("~/Desktop/CODE/fits/BS_and_AI_CATCH_fit_BOTHBIND_NOFIRSTYEAR_OLS_loglin_all.rds")
#now save
use_data(mean.BS.AI.ABCs,
tac_BOTHBIND_loglin_sur,
tac_BOTHBINDICATOR_loglin_sur,
tac_BOTHBIND_NOFIRSTYEAR_loglin_sur,
catch_BOTHBIND_loglin_sur,
catch_BOTHBIND_loglin_ols,
catch_BOTHBINDICATOR_loglin_ols,
catch_BOTHBIND_NOFIRSTYEAR_loglin_ols,
internal = TRUE,
overwrite = TRUE)
load_all()
ATTACH_function(1, Pollock = 2e6, Arrowtooth = 2e5, Yellowfin = 2e5)
## Catch as a function of TAC
## Set up ####
rm(list = ls())
library("data.table")
library("dplyr")
library("tidyr")
library("xtable")
library("ggplot2")
library("systemfit")
library("VGAM")
CATCH.DATA <- readRDS("BSAI_catch_data_2018.rds") %>%
filter(SUBAREA %in% c('BSAI','BS','AI')) %>%
select(YEAR,SUBAREA, SPECIES_CODE,TOTALCATCH)
## Catch as a function of TAC
## Set up ####
rm(list = ls())
library("data.table")
library("dplyr")
library("tidyr")
library("xtable")
library("ggplot2")
library("systemfit")
library("VGAM")
library("devtools")
library("catchfunction")
load_all()
catch_function(1, Pollock = 2e6, Arrowtooth = 2e5, Yellowfin = 2e5)
ATTACH_function(1, Pollock = 2e6, Arrowtooth = 2e5, Yellowfin = 2e5)
ATTACH_function(1, Pollock = 2.5e6, Arrowtooth = 2e5, Yellowfin = 2e5)
ATTACH_function(1, Pollock = 25e6, Arrowtooth = 2e5, Yellowfin = 2e5)
ATTACH_function(1, Pollock = 4e6, Arrowtooth = 2e5, Yellowfin = 2e5)
load_all()
ATTACH_function(1, Pollock = 2e6, Arrowtooth = 2e5, Yellowfin = 2e5)
load_all()
ATTACH_function(1, Pollock = 2e6, Arrowtooth = 2e5, Yellowfin = 2e5)
load_all()
ATTACH_function(1, Pollock = 2e6, Arrowtooth = 2e5, Yellowfin = 2e5)
load_all()
ATTACH_function(1, Pollock = 2e6, Arrowtooth = 2e5, Yellowfin = 2e5)
load_all()
ATTACH_function(1, Pollock = 2e6, Arrowtooth = 2e5, Yellowfin = 2e5)
load("~/Documents/GitHub/ATTACH/R/sysdata.rda")
fit <- catch_BOTHBIND_loglin_sur
PREDICTIONS <- data.frame(CATCH.BS.60=0)  #PTAC stands for predicted TAC
Pred.SUR.A80 <- predict(fit[[32]], FISH.DATA)
Pred.SUR.AFA <- predict(fit[[33]], FISH.DATA)
load_all()
load_all()
FISH.DATA <- ATTACH_function(1, Pollock = 2e6, Arrowtooth = 2e5, Yellowfin = 2e5)
PREDICTIONS <- data.frame(CATCH.BS.60=0)  #PTAC stands for predicted TAC
Pred.SUR.A80 <- predict(fit[[32]], FISH.DATA)
View(FISH.DATA)
load_all()
load_all()
test <- ATTACH_function(1, Pollock = 2e6, Arrowtooth = 2e5, Yellowfin = 2e5)
test[1]
FISH.DATA <- test[1]
Pred.SUR.A80 <- predict(fit[[32]], FISH.DATA)
FISH.DATA <- test[[1]]
Pred.SUR.A80 <- predict(fit[[32]], FISH.DATA)
Pred.SUR.AFA <- predict(fit[[33]], FISH.DATA)
Pred.SUR.AFA$pollock.pred
log(FISH.DATA$ABC.BS.201)
log(FISH.DATA$TAC.BS.201) + log(FISH.DATA$TAC.BS.201)
exp(7.356718)
View(Pred.SUR.AFA)
library("devtools")
document
document()
load_all()
?ATTACH_function
